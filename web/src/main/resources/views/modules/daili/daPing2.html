
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>主页一</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="${ctxStatic}/lib/layui-v2.6.3/css/layui.css" media="all">
    <link rel="stylesheet" href="${ctxStatic}/lib/font-awesome-4.7.0/css/font-awesome.min.css" media="all">
    <script type="text/javascript" src="${ctxStatic}/jquery/jquery-1.12.4.min.js" ></script>
    
    <link rel="stylesheet" href="${ctxStatic}/css/public.css" media="all">
</head>
<style>
    .layui-top-box {padding:40px 20px 20px 20px;color:#fff}
    .panel {margin-bottom:17px;background-color:#fff;border:1px solid transparent;border-radius:3px;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.05);box-shadow:0 1px 1px rgba(0,0,0,.05)}
    .panel-body {padding:15px}
    .panel-title {margin-top:0;margin-bottom:0;font-size:14px;color:inherit}
    .label {display:inline;padding:.2em .6em .3em;font-size:75%;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25em;margin-top: .3em;}
    .layui-red {color:red}
    .main_btn > p {height:40px;}
    .layui-form-label{
    	color: #000;
    }
    .layui-col-space10>*{
    	padding: 1px;
    }
</style>
<body>
<div class="layuimini-container">
    <div class="layuimini-main layui-top-box">
        <div class="layui-row layui-col-space10">
<form class="layui-form" action="">
            
            

            <div class="layui-form-item">
                <div class="layui-inline ">
                    <label class="layui-form-label">用户账号</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name1" lay-verify="" autocomplete="off" class="layui-input">
                    </div>
                </div>
                  <div class="layui-inline">
                    <label class="layui-form-label">代理账号</label>
                    <div class="layui-input-inline">
                        <input type="text" name="name2" readonly="readonly"  value="${acc}" id="name2" lay-verify="" autocomplete="off" class="layui-input">
                    </div>
                </div>
                <div class="layui-inline">
                    <label class="layui-form-label">开始时间</label>
                    <div class="layui-input-inline">
                        <input type="text" name="date1" id="date1" lay-verify="" placeholder="yyyy-MM-dd" autocomplete="off" class="layui-input" lay-key="1">
                    </div>
                </div>
                <div class="layui-inline">
                    <label class="layui-form-label">结束时间</label>
                    <div class="layui-input-inline">
                        <input type="text" name="date2" id="date2" lay-verify="" placeholder="yyyy-MM-dd" autocomplete="off" class="layui-input" lay-key="2">
                    </div>
                </div>
            </div>

            
            

            <div class="layui-form-item">
                <div class="layui-input-block">
                		<button type="button"   class="btn layui-btn" onclick="jinri()" >今日</button>
										<button type="button"   class="btn layui-btn" onclick="zuori()" >昨日</button>
					
					<button type="button"   class="btn layui-btn" onclick="benzhou()" >本周</button>
										<button type="button"   class="btn layui-btn" onclick="shangZhou()" >上周</button>
										<button type="button"   class="btn layui-btn" onclick="benyue()" >本月</button>
										<button type="button"   class="btn layui-btn" onclick="shangyue()" >上月</button>
                    <button class="layui-btn" lay-submit="" id="demo1" lay-filter="demo1">立即提交</button>
                    <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                </div>
            </div>
        </form>
            <div class="layui-col-md3">
                <div class="col-xs-6 col-md-3">
                    <div class="panel layui-bg-cyan">
                        <div class="panel-body">
                            <div class="panel-title">
                                <span class="label pull-right layui-bg-blue">实时</span>
                                <h5>充值金额/充值人数</h5>
                            </div>
                            <div class="panel-content">
                                <h1 class="no-margins" id="czje"></h1>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="layui-col-md3">
                <div class="col-xs-6 col-md-3">
                    <div class="panel layui-bg-cyan">
                        <div class="panel-body">
                            <div class="panel-title">
                                <span class="label pull-right layui-bg-blue">实时</span>
                                <h5>首值金额/首值人数</h5>
                            </div>
                            <div class="panel-content">
                                <h1 class="no-margins" id="scje"></h1>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="layui-col-md3">
                 <div class="col-xs-6 col-md-3">
                    <div class="panel layui-bg-cyan">
                        <div class="panel-body">
                            <div class="panel-title">
                                <span class="label pull-right layui-bg-blue">实时</span>
                                <h5>提现金额/提现人数</h5>
                            </div>
                            <div class="panel-content">
                                <h1 class="no-margins" id="txje"></h1>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
              <div class="layui-col-md3">
                 <div class="col-xs-6 col-md-3">
                    <div class="panel layui-bg-cyan">
                        <div class="panel-body">
                            <div class="panel-title">
                                <span class="label pull-right layui-bg-blue">实时</span>
                                <h5>体验会员做单佣金/体验会员做单人数</h5>
                            </div>
                            <div class="panel-content">
                                <h1 class="no-margins" id="xdye"></h1>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="layui-col-md3">
                 <div class="col-xs-6 col-md-3">
                    <div class="panel layui-bg-cyan">
                        <div class="panel-body">
                            <div class="panel-title">
                                <span class="label pull-right layui-bg-blue">实时</span>
                                <h5>做单佣金(VIP)/做单人数(VIP)</h5>
                            </div>
                            <div class="panel-content">
                                <h1 class="no-margins" id="xdyeVip"></h1>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="layui-col-md3"> 
            <div class="col-xs-6 col-md-3">
                    <div class="panel layui-bg-cyan">
                        <div class="panel-body">
                            <div class="panel-title">
                                <span class="label pull-right layui-bg-blue">实时</span>
                                <h5>注册人数</h5>
                            </div>
                            <div class="panel-content">
                                <h1 class="no-margins" id="zcrs"></h1>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="layui-col-md3">
                <div class="col-xs-6 col-md-3">
                    <div class="panel layui-bg-cyan">
                        <div class="panel-body">
                            <div class="panel-title">
                                <span class="label pull-right layui-bg-blue">实时</span>
                                <h5>新增做单</h5>
                            </div>
                            <div class="panel-content">
                                <h1 class="no-margins" id="xzzd"></h1>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="layui-col-md3"> 
            <div class="col-xs-6 col-md-3">
                    <div class="panel layui-bg-cyan">
                        <div class="panel-body">
                            <div class="panel-title">
                                <span class="label pull-right layui-bg-blue">实时</span>
                                <h5>提现差</h5>
                            </div>
                            <div class="panel-content">
                                <h1 class="no-margins" id="txc"></h1>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
<script src="${ctxStatic}/lib/layui-v2.6.3/layui.js" charset="utf-8"></script>
<script type="text/javascript" src="${ctxStatic}/common/common.js" ></script>

<script type="text/javascript">
layui.use(['form', 'layedit', 'laydate'], function () {
    var form = layui.form
    
        , layer = layui.layer
        , layedit = layui.layedit
        , laydate = layui.laydate;
    var $ = layui.$ //由于layer弹层依赖jQuery，所以可以直接得到

	console.log($);
    //日期
    laydate.render({
        elem: '#date1'
    });
    laydate.render({
        elem: '#date2'
    });

    //创建一个编辑器
    var editIndex = layedit.build('LAY_demo_editor');

    //自定义验证规则
    //监听提交
    form.on('submit(demo1)', function (data) {
    	$.ajax({
    		url  : "${ctxPath}/getData1/",
    		type:"post",
    		data : data.field,
    		success:function(data){
    			var    czje = data.czje ; 
    			$("#czje").html(parseFloat(czje).toFixed(2));
    			czje = data.czrs;
    			$("#czje").append("/" +czje);

    		}
    	})
    	
    	$.ajax({
    		url  : "${ctxPath}/getData2/",
    		type:"post",
    		data : data.field,
    		success:function(data){
    			var    czje = data.scje ; 
     			$("#scje").html(parseFloat(czje).toFixed(2));

    			czje = data.scrs;
    			$("#scje").append("/" +czje);

    		}
    	})
    	
    	$.ajax({
    		url  : "${ctxPath}/getData3/",
    		type:"post",
    		data : data.field,
    		success:function(data){
    			var    txje = data.txje ; 
    			$("#txje").html(parseFloat(txje).toFixed(2));
    			txje = data.txcs;
    			$("#txje").append("/" +parseFloat(txje).toFixed(2));

    		}
    	})
    	
    	$.ajax({
    		url  : "${ctxPath}/getData4/",
    		type:"post",
    		data : data.field,
    		success:function(data){
    			var    zcrs = data.zcrs ;
    			var    xzzd = data.xzzd ;
    			$("#zcrs").html(zcrs);
	            $("#xzzd").html(xzzd);
    		}
    	})
    	
    	$.ajax({
    		url  : "${ctxPath}/getData5/",
    		type:"post",
    		data : data.field,
    		success:function(data){
    			var    zcrs = data.data ; 
    			$("#txc").html(parseFloat(zcrs).toFixed(2));

    		}
    	})
    	
    	$.ajax({
    		url  : "${ctxPath}/getJisuan22/",
    		type:"post",
    		data : data.field,
    		success:function(data){
    			var    zcrs = data.xdye ; 
    			var    zcrs1 = data.xdrs ; 
    			$("#xdye").html(parseFloat(zcrs).toFixed(4) + "/ " + zcrs1 );

    		}
    		
    		//xdyeVip
    		
    		
    	})
    	
    	$.ajax({
    		url  : "${ctxPath}/getJisuan23/",
    		type:"post",
    		data : data.field,
    		success:function(data){
    			var    zcrs = data.xdyeVip2 ; 
    			var    zcrs1 = data.xdyeVip ; 
    			$("#xdyeVip").html(parseFloat(zcrs).toFixed(4) + "/ " + zcrs1 );

    		}	})
        
        return false;
    });
  $("#demo1").click();
    
    setInterval(() => {

	}, 10000);
    //表单初始赋值
    form.val('example', {
        "username": "贤心" // "name": "value"
        , "password": "123456"
        , "interest": 1
        , "like[write]": true //复选框选中状态
        , "close": true //开关状态
        , "sex": "女"
        , "desc": "我爱 layui"
    })


});




function   benzhou(){ 
	var url = "${ctxPath}/getData53/";
	doAjax(url,"post",{},function(data){
	     $("#date1").val(data.min);
	     setTimeout(function(){
	    	 $("#date2").val(data.max)
	    	  $("#demo1").click();
	     },300)
	})

}



var convertDate = function(data) {
    var date = new Date();
    data = data || "";

    if (data == "") {
        return "请选择日期";
    }
    date.setTime(data);
    return date.Format("yyyy-MM-dd")
}

Date.prototype.Format = function(fmt) { //author: meizz
    var o = {
        "M+": this.getMonth() + 1, //月份
        "d+": this.getDate(), //日
        "h+": this.getHours(), //小时
        "m+": this.getMinutes(), //分
        "s+": this.getSeconds(), //秒
        "q+": Math.floor((this.getMonth() + 3) / 3), //季度
        "S": this.getMilliseconds() //毫秒
    };
    if (/(y+)/.test(fmt))
        fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
    for (var k in o)
        if (new RegExp("(" + k + ")").test(fmt))
            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
    return fmt;
}
function jinri(){
	//获取今日
	var url = "${ctxPath}/getData51/";
	doAjax(url,"post",{},function(data){
		var  date= data.date;

		var day1 = new Date();
		day1.setTime(date);
		 var now = day1;
	     $("#date1").val(convertDate(now));
	     setTimeout(function(){
	    	 $("#date2").val(convertDate(now))
	    	  $("#demo1").click();
	     },300)
	})

}


function zuori(){

	var url = "${ctxPath}/getData52/";
	doAjax(url,"post",{},function(data){
		var  date= data.date;

		var day1 = new Date();
		day1.setTime(date);
		 var now = day1;
	     $("#date1").val(convertDate(now));
	     setTimeout(function(){
	    	 $("#date2").val(convertDate(now))
	    	  $("#demo1").click();
	     },300)
	})

}

function shangZhou(){
	var url = "${ctxPath}/getData54/";
	doAjax(url,"post",{},function(data){
	     $("#date1").val(data.min);
	     setTimeout(function(){
	    	 $("#date2").val(data.max)
	    	  $("#demo1").click();
	     },300)
	})

}

function  benyue(){
	 
	var url = "${ctxPath}/getData55/";
	doAjax(url,"post",{},function(data){
	     $("#date1").val(data.min);
	     setTimeout(function(){
	    	 $("#date2").val(data.max)
	    	  $("#demo1").click();
	     },300)
	})
}
function shangyue(){
	var url = "${ctxPath}/getData56/";
	doAjax(url,"post",{},function(data){
	     $("#date1").val(data.min);
	     setTimeout(function(){
	    	 $("#date2").val(data.max)
	    	  $("#demo1").click();
	     },300)
	})

}



 

</script>
</body>
</html>